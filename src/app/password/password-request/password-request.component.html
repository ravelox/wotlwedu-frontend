<app-modal-loader *ngIf="isProcessing"></app-modal-loader>

<app-modal-alert
  *ngIf="alertBox.errorMessage"
  [message]="alertBox.errorMessage"
  (close)="alertBox.onCloseAlert()"
></app-modal-alert>
<div
  class="ww-flex-column ww-main-component"
  style="
    justify-content: center;
    align-items: center;
    min-height: var(--selection-container-height);
  "
  id="pwdresetcomponent"
>
  <div class="ww-flex-column ww-simple-component" style="align-items: center">
    <div *ngIf="requestInProgress">
      <div
        class="ww-flex-column"
        style="align-items: center; color: var(--theme-color)"
      >
        <p>To reset your password, please enter your email address</p>
      </div>

      <form
        (ngSubmit)="onSubmit(f)"
        #f="ngForm"
        class="ww-flex-column"
        style="padding: 5px; min-width: 50%"
      >
        <div class="ww-form-input">
          <label for="email">Email Address</label>
          <input type="text" name="email" id="email" ngModel required email />
        </div>
        <div
          class="ww-flex-row"
          style="justify-content: center; margin-top: 10px"
        >
          <button
            type="submit"
            class="ww-button ww-button-theme"
            [disabled]="!f.valid"
          >
            Request Password Reset
          </button>
        </div>
      </form>
    </div>
    <div *ngIf="requestActioned">
      <div
        class="ww-flex-column"
        style="align-items: center; color: var(--theme-color)"
      >
        <p>Thank you for entering your email address.</p>
        <p>
          If we have that address on file, you will receive an email
          confirmation asking you to click a link to the reset page.
        </p>
      </div>
    </div>
    <div>
      <a
        href="/auth"
        class="ww-button ww-button-theme"
        style="
          margin-top: 2px;
          border: 2px solid black;
          padding-block: 1px;
          padding-inline: 6px;
          font-size: 0.75rem;
          text-decoration: none;
        "
        >Go to Login</a
      >
    </div>
  </div>
</div>
